# Release Workflow
#
# This workflow is triggered when a final release tag (not RC) is pushed.
# It builds and publishes the container image.

name: Release

on:
  push:
    tags:
      # Only match final releases, not RCs (v1.0.0 but not v1.0.0-rc0)
      - 'v[0-9]+.[0-9]+.[0-9]+'

permissions:
  contents: write
  packages: write
  id-token: write

jobs:
  image-build-and-push:
    name: Build and Push Image
    uses: ./.github/workflows/image-build-and-publish.yml
